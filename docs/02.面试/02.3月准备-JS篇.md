---
title: 3月准备-JS篇
date: 2022-02-10 09:16:17
permalink: /pages/3a80ad/
categories:
  - 面试
tags:
  - 
---

# JS篇

## es6

## Promise

从最开始的回调函数处理异步，到 Promise 处理异步，到 Generator 处理异步，再 async/await 处理异步，每一次的技术更新都使得 JavaScript 处理异步的方式更加优雅，从目前来看，async/await 被认为是异步处理的终极解决方案，让JS的异步处理越来越像同步任务。`异步编程的最高境界，就是根本不用关心它是不是异步`。

通过使用 Promise 来处理异步，比以往的回调函数看起来更加清晰了，解决了回调地狱的问题，Promise 的 then 的链式调用更能让人接受，也符合我们同步的思想。

特点：
- 对象的状态不受外界影响
  - Promise 对象代表一个异步操作，有三种状态：pending(进行中)，fulfilled(已成功)和reject(已失败)。只有异步操作的结果，可以决定当前是哪一种状态，任何其它操作都无法改变这个状态。这也是 Promise 承诺这个名字的由来。
- 一旦状态改变，就不会再变，任何时候都可以得到这个结果。
  - Promise对象的状态改变，只有两种可能：从 pending 变为 fulfilled 和从 pending 变为 rejected。

缺点：
- Promise 的内部错误使用 try catch 捕获不到，只能用 then 的第二个回调或 catch 来捕获。
```js
let pro
try{
    pro = new Promise((resolve,reject) => {
        throw Error('err....')
    })
}catch(err){
    console.log('catch',err) // 不会打印
}
pro.catch(err=>{
    console.log('promise',err) // 会打印
})
```
- Promise 一旦新建就会立即执行，无法取消。

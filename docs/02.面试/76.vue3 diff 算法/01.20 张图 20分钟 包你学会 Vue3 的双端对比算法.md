---
title: 面试官问你 vue3 是怎样做 diff 的？
date: 2022-01-11 14:59:41
permalink: /pages/9c089c/
categories:
  - 面试
  - vue3 diff 算法
tags:
  - 
---

# 面试官问你 vue3 是怎样做 diff 的？

**前置知识**

- vdom
  - 是一个对象，我们将真实的 dom 装换成一个 对象
  - 对象的好处就是跨平台，如今的 json 就是最好的例子
  - 操作 vdom 和 操作 dom 哪个快，有时间可以阅读一下 [尤大的回答](https://www.zhihu.com/question/31809713)
  - 直接操作 dom 比操作 vdom 要更快，后者需要对比得出差异才更新。但是基于性能来说差异更新要比全量更新产生的代价更便宜
- diff
  - Vue3 是通过 双端对比 + 最长递增子序列 算法得出最小的更新消耗
  - 双端对比：两个指针一个从前面开始，一个从后面开始，得出中间改变的部分
  - 最长递增子序列：中间乱序部分，通过新老对比得出 新的节点中 一些元素与老节点中相对位置不需要改变的序列

<!-- more -->

## 左序遍历

## 右序遍历
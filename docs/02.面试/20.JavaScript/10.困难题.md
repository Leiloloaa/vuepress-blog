---
title: 困难题
date: 2021-09-11 15:17:27
permalink: /pages/3e6f7b/
categories:
  - 面试
  - JavaScript
tags:
  - 
---

# 困难题

<!-- more -->
 

提供一个数字 n，生成一组 0~n-1 的整数，打乱顺序组成数组，打乱几次，如何能够看起来平衡，说出你能想到的所有方法。
二面
业务，业务，还是业务，项目复盘有没有更好的解决方案。
如何处理一个重大事故 bug
监控体系
虚拟 dom 有什么好的地方？ 框架为什么要设计虚拟 dom？
webpack 的缺点，让你设计一个新的构建打包工具，你会怎么设计？
在线文档编辑，如何处理两人的冲突，如何展示，考虑各种场景
excel 文档冲突高级处理，文章冲突呢？是上个问题的深化。
三面
算法题：从数组 [1, 5, 8, 10, 12] 中找到两个数和为 9，返回 [1, 8] 这样的结果。
算法题：从数组 [1, 5, 8, 10, 12] 中找到三个数和为 19，返回 [1, 8， 10] 这样的结果。
算法题：给定一个无序的整数数组，找到其中最长上升子序列的长度。
滴滴
一面
webpack 原理
babel 原理
虚拟 DOM 的理解
项目里如何做的性能优化
写过webpack loader 或者插件吗
讲讲你写的 babel 插件
二面
redux 的原理
redux 做状态管理和发布订阅模式有什么区别
react-redux 的原理，是怎么跟 react 关联起来的
了解多端的原理吗？
http 与 tcp 的关系
tcp 可以建立多个连接吗？
介绍一下为什么要有 三次握手，四次挥手
写过 babel 插件吗？用来干啥的？怎么写的 babel 插件
知道怎么转化成 AST 的吗？
研究过 React 的运行时吗？
职业规划。
三面
项目介绍
说一下你的项目有哪些复杂的点，以及怎么解决的
你们的业务组件库有多少个，是什么样的组件
权限组件是怎么设计的
会node 吗？
介绍一下你对中间件的理解
怎么保证后端服务稳定性，怎么做容灾
怎么让数据库查询更快
数据库是用的什么？
为什么用 mysql
希望滴滴能提供给你什么？
四面
介绍一下项目的难点以及怎么解决的
自己有什么技术上的优势
最近在研究什么技术？
职业规划
移动端的业务有做过吗？
当业务重的时候怎么安排时间？
虎牙
一面
http 的 get 和 post 区别
缓存策略
https 的握手过程
http2 的特点
weak-Set、weak-Map 和 Set、Map 区别
mvvm 模型和 mvc 模型区别
如何实现一个 mvvm 模型
为何你用 mobx 重构了 saga，说说两者之间的区别
说说 vnode 的了解
讲讲 webpack 的性能优化
有写过 plugin
了解 webpack-dev-server 的 HMR 实现原理吗
手写一下防抖和节流
二面
你做过直播，能介绍一下 webRTC 或者现在使用直播方案吗
编码方面有了解过吗，能解释一下码率吗
编码方面有了解过吗，能解释一下码率吗
RGB 和 YUV 区别
有了解过哪些直播协议
flv 和 mp4 区别有了解过吗
MediaSource 规范有了解过
三面
webSocket 和 ajax 的区别
xss、csrf 有了解过吗，如何防范
有了解过 React 的 fiber
能简单介绍一下 react 执行过程吗
能介绍一下 hook 吗
情景题，做一个直播弹幕
小编最近整理了一次大厂面试题，包括：HTML和CSS、HTML5和CSS3、JS基础、Ajax、流行框架、十、Node.Js、前端概括性问题等。想看完整版的前端大厂面试题汇总（1）的小伙伴直接点击这领取啦

一、HTML和CSS
你做的页面在哪些流览器测试过？这些浏览器的内核分别是什么?
每个HTML文件里开头都有个很重要的东西，Doctype，知道这是干什么的吗？
Quirks模式是什么？它和Standards模式有什么区别
div+css的布局较table布局有什么优点？
img的alt与title有何异同？ strong与em的异同？
你能描述一下渐进增强和优雅降级之间的不同吗?
为什么利用多个域名来存储网站资源会更有效？
请谈一下你对网页标准和标准制定机构重要性的理解。
请描述一下cookies，sessionStorage和localStorage的区别？
简述一下src与href的区别。
知道的网页制作会用到的图片格式有哪些？
知道什么是微格式吗？谈谈理解。在前端构建中应该考虑微格式吗？
在css/js代码上线之后开发人员经常会优化性能，从用户刷新网页开始，一次js请求一般情况下有
一个页面上有大量的图片（大型电商网站），加载很慢，你有哪些方法优化这些图片的加载，给用户更好的
你如何理解HTML结构的语义化？
谈谈以前端角度出发做好SEO需要考虑什么？
有哪项方式可以对一个DOM设置它的CSS样式？
CSS都有哪些选择器？
CSS中可以通过哪些属性定义，使得一个DOM元素不显示在浏览器可视范围内？
超链接访问过后hover样式就不出现的问题是什么？如何解决？
什么是Css Hack？ie6,7,8的hack分别是什么？
请用Css写一个简单的幻灯片效果页面
行内元素和块级元素的具体区别是什么？行内元素的padding和margin可设置吗？
什么是外边距重叠？重叠的结果是什么？
二、JS基础
javascript的typeof返回哪些数据类型
例举3种强制类型转换和2种隐式类型转换?
split() join() 的区别
数组方法pop() push() unshift() shift()
事件绑定和普通事件有什么区别
IE和DOM事件流的区别
call和apply的区别
b继承a的方法
JavaScript this指针、闭包、作用域
如何阻止事件冒泡和默认事件
””和“=”的不同
JavaScript的数据类型都有什么？
看下列代码输出为何？解释原因。
foo = foo||bar ，这行代码是什么意思？为什么要这样写？
完成foo()函数的内容，要求能够弹出对话框提示当前选中的是第几个单选框。
完成函数showImg()，要求能够动态根据下拉列表的选项变化，更新图片的显示
阻止冒泡函数
输出多少？
精度问题: JS 精度不能精确到 0.1 所以 。。。。同时存在于值和差值中
输出结果
以下代码中end字符串什么时候输出
请用原生js实现jquery的get\post功能，以及跨域情况下
请简要描述web前端性能需要考虑哪方面，你的优化思路是什么？
三、HTML5 CSS3
CSS3有那些新特性
html5有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？如何区分 HT
本地存储（Local Storage ）和cookies（储存在用户本地终端上的数据）之间的区别
如何实现浏览器内多个标签页之间的通信?
你如何对网站的文件和资源进行优化？
什么是响应式设计？
新的 HTML5 文档类型和字符集是？
HTML5 Canvas 元素有什么用？
HTML5 存储类型有什么区别？
用H5+CSS3解决下导航栏最后一项掉下来的问题
CSS3新增伪类有那些？
请用CSS实现：一个矩形内容，有投影，有圆角，hover状态慢慢变透明。
描述下CSS3里实现元素动画的方法
html5\CSS3有哪些新特性、移除了那些元素？如何处理HTML5新标签的浏览器兼容问题？
你怎么来实现页面设计图，你认为前端应该如何高质量完成工作? 一个满屏 品 字布局 如何设计?

JavaScript


Map和Set的区别，Map和Object的区别


数组的filter、every、flat的作用是什么


说一下对Promise的了解


Promise的all和race有什么区别


箭头函数和普通函数的区别


let、var和const的区别？如果希望const定义的对象属性也不能被修改该怎么做？


堆和栈的区别


闭包的原理


instanceof的实现原理


new的实现原理


数据类型有哪些？如何判断一个数据是否是数组


JQuery实现链式调用的原理是什么


CSS


css和js两种方式实现div右移1000px动画


visibility、display、opacity的区别


单行截断css


flex布局


flex：1


transition、transform、translate的区别


说一下BFC


parent元素宽高不定，实现scale固定宽高比始终为4：3


CSS垂直居中的方案


伪元素和伪类的区别


position的几个属性和含义


说一下盒模型


响应式布局方案


框架通识


router中hash和history的区别


vue和 react 的区别


vue和 react 如何做技术选型


css module原理


说一下虚拟DOM？为什么要使用虚拟DOM？

追问：虚拟DOM是如何合并patch的



map 和 v-for 中 key 的作用


react diff算法和vue diff算法的区别


组件通信的方式有哪些


Vue


computed和watch的区别


watch能监听computed的属性吗


vue的响应式原理


vue的生命周期


mounted拿到数据可以后可以直接获取dom吗


nextTick原理


vue模板（template）里为什么不能使用多个头结点？


vuex为什么同时设计mutation和action？只设计一个行不行？


vue2和 vue3 在数据绑定这一块有什么区别？


vue挂载和卸载父子组件生命周期钩子执行顺序


vue的优化方案（等同于如何编写可读性高、易维护且高性能的vue代码）


keep-alive的原理，使用有什么问题？如何解决


React


useEffect中return函数的作用和执行时机


setState是同步还是异步的


fiber的实现原理


fiber的时间调度通过哪两个原生api实现的（requestAnimationFrame和requestIdleCallback？？？）


react合成事件是如何实现的


使用redux时需要注意的点


如果redux没返回新的数据会怎样


redux是如何派发数据的？ connect原理？


什么场景会触发重新渲染


setState返回一样的引用，render会执行吗


useEffect的使用方法？useEffect的return会在什么时候执行？useEffect原理是什么？


useMemo和useCallback的区别，它们的实现原理是什么？


useEffect、useMemo、useCallback是如何做依赖收集的


React Hooks有什么优势和劣势


context的实现原理是什么？如何做依赖收集？


React的生命周期


PureComponent和Component的区别


如果在map循环中没有设置key值，那么从 A B C D 四个节点变成 B C D三个节点，它会以什么样的方式变化


React dom绑定事件和原生事件有什么区别


Hooks的实现原理


Webpack


为什么webpack打包慢？为什么vite会比webpack快？如果想提高webpack速度，应该怎么做？

juejin.cn/post/684490…



说说webpack编译打包的流程


说一下对tree-shaking的了解，对CommonJS和ESM都可以用tree-shaking吗


webpack中plugin和laoder的区别，它们的执行时机，以及常用的plugin和loader


css-loader的作用是什么？不使用css-loader行不行


Typescript


Typescript相较于JavaScript有什么优点


const func = (a, b) => a + b; 要求编写Typescript，要求a，b参数类型一致，都为number或者都为string


实现ReturnType


实现DeepReadonly


基于已有类型生成新类型：剔除类型中的width属性
interface A {
  content: string;
  width: number;
  height: number;
}
复制代码


浏览器 & 网络


介绍一下EventLoop


EventLoop中为什么要同时存在宏任务和微任务两个队列？设计一个行不行？一段代码在执行时，程序是如何去区分宏任务和微任务的？


内存泄露

项目中内存泄漏的场景
setTimeout为什么会造成内存泄露？如何防止setTimeout内存泄露？清除定时器为什么就不会有内存泄露？



介绍一下http缓存

追问：哪些字段用做强缓存？哪些字段用做协商缓存？
追问：cache-control、expires、etag等字段的属性值是什么样的？
追问：这些字段都被存放在请求的哪个部分？
追问：last-modify和expires这些字段的时间有什么区别？
追问：last-modify和expires能共存吗？
追问：如果不想让某个资源使用缓存，那么应该如何设计http缓存？
追问：cache-control中的no-cache和no-store的区别



介绍一下宏任务和微任务

juejin.cn/post/688078…
追问：哪些是宏任务？哪些是微任务？
追问：宏任务和微任务的区别是什么？为什么要设计宏任务和微任务两个队列？使用一个任务队列行不行？为什么？
追问：你刚刚所说的都是根据api来识别微任务和宏任务的，那么一段完整的程序浏览器是如何区分宏任务和微任务的呢？



微任务的优先级


如何理解script标签是个宏任务


http1.1和http2的区别


onload 和 DOMContentLoaded的区别


requestAnimationFrame


浏览器加载页面的过程


script标签为什么要放在底部


defer和async的区别，以及它们的加载和执行时机


DOM事件模型。事件捕获和事件冒泡的使用场景


从输入url到页面展示的过程


如何设计css、js等文件的缓存


204、304、404、504


描述一下同源策略、跨域及其解决方案

描述Jsonp具体的实现方案



xss和csrf的概念和防御方式


sessionSorage、localstorage、cookie的区别？同一个系统开两个网页，两个网页的sessionStorage共享吗？


http和https的区别？为什么https是相对安全的？https加密原理？


tcp三次握手和四次挥手的步骤


小程序


说说小程序的三层架构


拆分逻辑层和渲染层有什么优势和劣势


小程序框架和普通H5框架的区别（比如Taro和RN）


小程序在安卓和iOS上的区别


为什么要用Taro？Taro是如何实现跨端的？


Taro是如何兼容React和Vue的


Taro3和Taro2的区别


Taro的优化方案


小程序体积压缩的方案


看代码说结果


eventLoop
setTimeout(function() {
	console.log(1);
}, 0);
new Promise(function executor(resolve) {
  	console.log(2);
  	for (var i = 0; i < 10000; i++) {
    		resolve();
  	}
  	console.log(3);
}).then(function() {
  	console.log(4);
});
console.log(5);
复制代码


闭包。说结果，然后分别使用Promise和async改写成每隔1s打印1个数字的形式
function print(n){
    for(var i = 0;i <n;i++){
        setTimeout(console.log, 1000, i);
    }
}
print(10);
复制代码


作用域
var a = 20;


function bar() {
  console.log(a);
}


function foo(fn) {
  var a = 10;
  fn();
}


foo(bar);
复制代码


作用域
function bar() {
  var a = 20;
  return function() {
    console.log(a);
  }
}


var foo = bar();
var a = 10;
foo();  // 20
复制代码


作用域
var a = 20;


function bar() {
  console.log(a)
  var a = 10;
  console.log(n)
}
bar()
复制代码


EventLoop
const promise = new Promise((resolve, reject) => {
  console.log(1);
  resolve(5);
  console.log(2);
}).then((res) => {
  console.log(res);
})


promise.then(() => {
  console.log(3);
})


console.log(4)


setTimeout(() => {
  console.log(6)
})
复制代码


EventLoop
async function async1() {
  console.log('async1 start');
  await async2();
  console.log('async1 end');
}


async function async2() {
  console.log('async2 start');
}


console.log('script start');


setTimeout(function() {
  console.log('setTimeout');
}, 0);


async1();


new Promise(function(resolve) {
  console.log('promise1');
  resolve();
}).then(function() {
  console.log('promise2');
}).then(function() {
  console.log('promise3');
});


console.log('script end');
复制代码


原型链
function foo() {

}

const bar = new foo()

console.log(bar.__proto__)
console.log(bar.__proto__.__proto__)
console.log(bar.__proto__.__proto__.__proto__)
console.log(bar.__proto__.__proto__.__proto__.__proto__)
console.log(foo.prototype)
console.log(foo.prototype.prototype)
console.log(foo.prototype.prototype.prototype)
复制代码


手撕代码 & 算法

手写快排
手写深拷贝
手写节流和防抖
手写限制并发数量
手写括号匹配
手写红包算法（注意均衡分配和浮点数计算精度问题）
数组去重
将奇数排在前面，偶数排在后面。要求时间复杂度O(n)。空间复杂度O(1)（不能用splice）
数组转树结构
解析出URL中所有的部分
实现一个compare函数，比较两个对象是否相同
螺旋矩阵
大数相加
找出出现次数最多的英语单词
节点倒序（将ul.id=list，将ul节点下的10000个li节点倒序。考虑性能。）
实现一个函数计算 "1+12-31+100-93"
判断链表是否有环
手写useReducer
手写useDidMount
手写useDidUpdate，模拟componentDidUpdate
手写usePrevious
爬楼梯
删除单向链表中的某个节点
柯里化
中划线转大写
千位分割
使用es5实现es6的let关键字

开放题


Antd栅格布局的实现


劫持所有的a标签，点击时不发生跳转，而是弹出提示框提示即将跳转到某个网址，点击确认则跳转，点击取消则无操作


两个promise，分别实现串行和并行形式，只有两个promise都返回结果时打印success，否则打印fail


长列表的优化方案有哪些？如何设计一个虚拟列表


埋点是如何拦截和上报的


如何实现一个无埋点数据上报


使用hash路由时，怎么能再刷新后时候自动滚动到页面上次的锚点位置？


做过哪些性能优化方面的工作


实现一个多级菜单，菜单层级不定


如何监控和排查内存泄漏问题


模拟实现Java中的sleep函数


实现一个数组的splice方法（说思路）


A页面跳转到B页面，在B页面做的操作传输给A页面的方法


Sentry是如何实现错误监控的


将一个GIF绘制到canvas上是否可行？如果可行，说说你的实现方法。


如果让你搭建一个项目，你会使用哪些技术方案进行组合？


如何做技术选型？


手写实现一个图片懒加载
1、到指定高度加载图片
2、考虑重排和重绘
3、考虑性能
4、先加载缩略图，再加载完整的图
5、注意图片加载容错情况


编写一个函数，传入一个promise和数字n，n(s)内promise没有返回结果，直接reject


了解SSR吗


说一下深拷贝要注意的点


前端发展方向设想


如何设计一个类似于elementui这样的可以单包发布，也可以多包发布的框架


如果让你设计一个单测框架，你怎么设计？


如何实现模块懒加载？import语法是如何做的


用过哪些设计模式？分别说说它们的使用场景和应用案例？你觉得使用设计模式给你带来了什么好处？


从A页面跳转到B页面，再返回A页面时，如何让A页面保持上一次的状态


了解Vue3和React18吗


Nginx和node中间件代理的区别


Node中间件主要是解决什么问题


说一下你做过的最有收获的项目。描述一下系统所承载的功能、目标以及这个系统能解决什么问题？


你怎么看待Typescript中大量存在any的现象？面对这样的场景你将有什么样的想法和行动？

(window.webpackJsonp=window.webpackJsonp||[]).push([[270],{732:function(t,s,a){"use strict";a.r(s);var n=a(35),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_10å¼ å›¾ã€10åˆ†é’Ÿ-åŒ…ä½ å­¦ä¼š-vue3-çš„-å·¦å³äº’åš"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10å¼ å›¾ã€10åˆ†é’Ÿ-åŒ…ä½ å­¦ä¼š-vue3-çš„-å·¦å³äº’åš"}},[t._v("#")]),t._v(" 10å¼ å›¾ã€10åˆ†é’Ÿï¼ŒåŒ…ä½ å­¦ä¼š Vue3 çš„â€œå·¦å³äº’åšâ€")]),t._v(" "),a("p",[t._v("è¯è¯´åœ¨"),a("code",[t._v("å°„é›•ä¸‰éƒ¨æ›²")]),t._v("ä¸­è®ºå“ªé—¨æ­¦åŠŸæ¯”è¾ƒæœ‰æ„æ€ï¼Œç¬”è€…è®¤ä¸ºå·¦å³äº’åšåº”è¯¥å¯ä»¥åŠ å…¥ç¾¤èŠã€‚ä½ ä¹Ÿå¯ä»¥å°è¯•ä¸€ä¸‹å·¦æ‰‹ç”»åœ†ã€å³æ‰‹ç”»æ–¹ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯æ­ªä¸ƒæ‰­å…«çš„ã€‚å’³å’³ï¼Œå†è¯´ä¸‹å»ä½ éƒ½ä¼šç»™ç¬”è€…å‡ é­å­ã€‚å’±ä»¬è¿˜æ˜¯è®¨è®ºä¸€ä¸‹ Vue3 çš„å·¦å³äº’åšä¹‹æœ¯å§ï¼")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c49cd738d3b04716ab038d07738f775b~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[a("strong",[t._v("å£°æ˜ï¼šå·¦å³äº’åš â‰ˆ åŒç«¯å¯¹æ¯”")])]),t._v(" "),a("p",[t._v("è¿›å…¥æ­£é¢˜ä¹‹å‰ï¼Œç¬”è€…è®¤ä¸ºæœ‰å¿…è¦å¤ä¹ è™šæ‹Ÿ dom å’Œ diff ç®—æ³•ï¼Œæ¥ï¼Œå®¢å®˜è¯·æ¥æ‹›~")]),t._v(" "),a("p",[a("strong",[t._v("å‰ç½®çŸ¥è¯†")])]),t._v(" "),a("ul",[a("li",[t._v("è™šæ‹Ÿ dom\n"),a("ul",[a("li",[a("code",[t._v("æ˜¯ä¸€ä¸ªå¯¹è±¡")]),t._v("ï¼Œæˆ‘ä»¬å°†çœŸå®çš„ dom é€šè¿‡æŸç§æ–¹å¼è½¬æ¢æˆä¸€ä¸ª å¯¹è±¡")]),t._v(" "),a("li",[t._v("å¯¹è±¡çš„å¥½å¤„å°±æ˜¯"),a("code",[t._v("è·¨å¹³å°")]),t._v("ï¼Œå¦‚ä»Šçš„ json å°±æ˜¯æœ€å¥½çš„ä¾‹å­")]),t._v(" "),a("li",[t._v("æ“ä½œè™šæ‹Ÿ dom å’Œ æ“ä½œçœŸå® dom å“ªä¸ªå¿«ï¼ˆæœ‰æ—¶é—´å¯ä»¥é˜…è¯»ä¸€ä¸‹ "),a("a",{attrs:{href:"https://www.zhihu.com/question/31809713",target:"_blank",rel:"noopener noreferrer"}},[t._v("å°¤å¤§çš„çŸ¥ä¹å›ç­”"),a("OutboundLink")],1),t._v("ï¼‰ï¼Œç®€è¨€ä¹‹ï¼Œçº¯çœ‹é€Ÿåº¦çœŸå®DOM > è™šæ‹ŸDOMï¼Œåè€…éœ€è¦å¯¹æ¯”å¾—å‡ºå·®å¼‚æ‰æ›´æ–°ã€‚ä½†æ˜¯åŸºäºæ€§èƒ½æ¥è¯´"),a("code",[t._v("å·®å¼‚æ›´æ–°")]),t._v("è¦æ¯”"),a("code",[t._v("å…¨é‡æ›´æ–°")]),t._v("äº§ç”Ÿçš„"),a("code",[t._v("ä»£ä»·æ›´ä¾¿å®œ")])])])])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/62de6f2f6eff42c08a6a4fa354405a46~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("ul",[a("li",[t._v("diff ç®—æ³•\n"),a("ul",[a("li",[t._v("Vue3 æ˜¯é€šè¿‡"),a("code",[t._v("åŒç«¯å¯¹æ¯”")]),t._v("+"),a("code",[t._v("æœ€é•¿é€’å¢å­åºåˆ—")]),t._v("ç®—æ³•å¾—å‡ºæœ€å°çš„æ›´æ–°æ¶ˆè€—")]),t._v(" "),a("li",[t._v("åŒç«¯å¯¹æ¯”ï¼šä¸¤ä¸ªæŒ‡é’ˆä¸€ä¸ªä»å‰é¢å¼€å§‹ï¼Œä¸€ä¸ªä»åé¢å¼€å§‹ï¼Œå¾—å‡ºä¸­é—´æ”¹å˜çš„éƒ¨åˆ†")]),t._v(" "),a("li",[t._v("æœ€é•¿é€’å¢å­åºåˆ—ï¼šä¸­é—´ä¹±åºéƒ¨åˆ†ï¼Œé€šè¿‡æ–°è€å¯¹æ¯”å¾—å‡ºæ–°çš„èŠ‚ç‚¹ä¸­"),a("code",[t._v("å…ƒç´ ")]),t._v("ä¸è€èŠ‚ç‚¹ä¸­"),a("code",[t._v("ç›¸å¯¹ä½ç½®")]),t._v("ä¸éœ€è¦æ”¹å˜çš„åºåˆ—")])])])]),t._v(" "),a("p",[a("strong",[t._v("äº®å‰‘ï¼šå¸¸è§çš„æ›´æ–°é—®é¢˜")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/faeab34c60974332bb3293369e440b18~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("ä¸ºäº†èŠ‚çº¦å¤§å®¶çš„æ—¶é—´ä»¥åŠ diff ç®—æ³•ä¸»è¦è¿ç”¨åœ¨ç¬¬å››ç§æƒ…å†µï¼Œæ‰€ä»¥åœ¨æœ¬æ–‡ç¬”è€…ä¸ä½ ä¸€èµ·è®¨è®º old array => new arrayã€‚")]),t._v(" "),a("p",[a("strong",[t._v("ä¸¾ä¸ªğŸŒ°")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a7c5ec73ef524371a72f8b5bf96fbd20~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("å¦‚å›¾æ‰€ç¤ºï¼Œå˜åŒ–æ— éæœ‰ä»¥ä¸‹ä¸‰ç§ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("ç§»åŠ¨ï¼Œcã€dã€e ä½ç½®ä¸ä¸€æ ·äº†")]),t._v(" "),a("li",[t._v("åˆ é™¤ï¼Œf ä¸å­˜åœ¨äº†")]),t._v(" "),a("li",[t._v("æ–°å¢ï¼Œe æ˜¯æ–°åŠ çš„")])]),t._v(" "),a("p",[t._v("é‚£ä¹ˆï¼Œæˆ‘ä»¬è¦æ€æ ·ç¡®å®šé‚£äº›å…ƒç´ å˜åŠ¨äº†å‘¢ï¼Ÿåˆæ˜¯ä»å“ªä¸ªå…ƒç´ å¼€å§‹å˜åŠ¨çš„ï¼Ÿ")]),t._v(" "),a("p",[a("strong",[t._v("ä»»åŠ¡æ‹†è§£")])]),t._v(" "),a("ul",[a("li",[t._v("ç¡®å®šå·¦è¾¹å¼€å§‹å˜åŠ¨çš„ä½ç½® => å·¦åºéå†")]),t._v(" "),a("li",[t._v("ç¡®å®šå³è¾¹å¼€å§‹å˜åŠ¨çš„ä½ç½® => å³åºéå†")])]),t._v(" "),a("p",[t._v("Vue æä¾›äº†ä¸€ç§æ–¹æ¡ˆ => åŒç«¯å¯¹æ¯”ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯å’±ä»¬å¼€å¤´è¯´çš„å·¦å³äº’åšï¼Œå…·ä½“çš„çœ‹ä¸‹å›¾ï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4dde9376a25749be97f8b8770d3d7355~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("ä¸‰ä¸ªæŒ‡é’ˆ iã€e1ã€e2ï¼Œi è¡¨ç¤ºä»å·¦è¾¹å¼€å§‹å˜åŠ¨çš„ä½ç½®ï¼Œe1 å’Œ e2 åˆ†åˆ«è¡¨ç¤ºæ–°è€èŠ‚ç‚¹ä»å³è¾¹å¼€å§‹å˜åŠ¨çš„ä½ç½®ã€‚é€šè¿‡å¾ªç¯ new tree çš„èŠ‚ç‚¹ï¼Œæ¥ç¡®å®šå˜åŠ¨ä½ç½®ï¼Œæœ€ç»ˆæˆ‘ä»¬ä¼šå¾—å¦‚å›¾æ‰€ç¤ºçš„ç»“æœï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de97c29726fb4b3aa651b2b140d8db59~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("æ¥ä¸‹æ¥ï¼Œå’±ä»¬å…·ä½“çš„çœ‹ä¸‹å·¦åºéå†å’Œå³åºéå†çš„å®ç°æ–¹å¼ã€‚")]),t._v(" "),a("h2",{attrs:{id:"å·¦åºéå†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å·¦åºéå†"}},[t._v("#")]),t._v(" å·¦åºéå†")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b9d16241db4148cf9ec13fa7ed6c6b65~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("å’±ä»¬çš„ç›®çš„æ˜¯è¦ç¡®å®š i çš„ä½ç½®ï¼Œé¦–å…ˆå¾—æ¸…æ¥šå¾ªç¯æ¡ä»¶ï¼Œä»€ä¹ˆæ—¶å€™è¯¥é€€å‡ºå¾ªç¯ã€‚å› ä¸ºæ–°è€èŠ‚ç‚¹éƒ½æ˜¯"),a("code",[t._v("æ•°ç»„")]),t._v("ï¼Œæ‰€ä»¥ "),a("code",[t._v("i")]),t._v(" è¦å°äºæˆ–ç­‰äº "),a("code",[t._v("e1(è€èŠ‚ç‚¹çš„æœ€åä¸€ä½)")]),t._v(" å’Œ "),a("code",[t._v("e2(æ–°èŠ‚ç‚¹çš„æœ€åä¸€ä½)")]),t._v("ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ¯”è¾ƒå‡½æ•° c1 ä¸ºè€çš„è™šæ‹ŸèŠ‚ç‚¹ c2 ä¸ºæ–°çš„è™šæ‹ŸèŠ‚ç‚¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// c ä¸º children çš„ç®€å†™ï¼Œe ä¸º element çš„ç®€å†™")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchKeyedChildren")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" len2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åé¢å¤šæ¬¡ç”¨åˆ°ï¼Œæå–")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å®šä¹‰ä¸‰ä¸ªæŒ‡é’ˆ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»æ–°çš„èŠ‚ç‚¹å¼€å§‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" e1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è€çš„æœ€åä¸€ä¸ª ç´¢å¼•å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" e2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" len2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°çš„æœ€åä¸€ä¸ª ç´¢å¼•å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç§»åŠ¨ i æŒ‡é’ˆ")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" n1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" n2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSomeVNodeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... åœ¨å¾ªç¯çš„æ¯”è¾ƒæ­¤èŠ‚ç‚¹å†…çš„èŠ‚ç‚¹")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// patch")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç²—ç•¥çš„æ¯”è¾ƒï¼Œå®é™…å¯¹æ¯”è¦æ›´å¤æ‚")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSomeVNodeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æ¯”èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ å¯ä»¥é€šè¿‡ type å’Œ key")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])]),a("p",[t._v("å·¦åºç®—æ³•ï¼Œæˆ‘ä»¬ä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š")]),t._v(" "),a("ul",[a("li",[t._v("å¾ªç¯ i ï¼Œæ‹¿åˆ° c1[i] å’Œ c2[i]")]),t._v(" "),a("li",[t._v("å¦‚æœç›¸ç­‰ï¼Œå°±ç»§ç»­å¾ªç¯æ¯”è¾ƒï¼Œå¯¹æ¯”åˆ°å¤´ï¼Œå…¨éƒ½ä¸€æ ·çš„ï¼Œå°± i++ï¼Œç§»åŠ¨æŒ‡é’ˆ")]),t._v(" "),a("li",[t._v("å¦‚æœä¸ç›¸ç­‰ï¼Œå°±ç»“æŸæ¯”è¾ƒï¼Œåœæ­¢ç§»åŠ¨æŒ‡é’ˆ")])]),t._v(" "),a("p",[t._v("å·¦è¾¹å˜åŠ¨çš„ä½ç½®ç¡®å®šåï¼Œæ¥ä¸‹æ¥å°±ç¡®å®šå³è¾¹å˜åŠ¨çš„ä½ç½®ï¼Œè¿™å°±æ˜¯ä»»åŠ¡åˆ†è§£ã€‚æ¥ä¸‹æ¥å’±ä»¬çœ‹ä¸‹å³åºéå†æ˜¯å¦‚ä½•å®ç°çš„å‘¢ï¼Ÿ")]),t._v(" "),a("h2",{attrs:{id:"å³åºéå†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å³åºéå†"}},[t._v("#")]),t._v(" å³åºéå†")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/638102b21cde4c3a8057b5045cf9df50~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("å’±ä»¬ä»å³è¾¹å¼€å§‹éå†ï¼Œé‚£å¾ªç¯æ¡ä»¶æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿæ˜¯ä¸æ˜¯ä¹Ÿåªéœ€è¦ i <= e1 å’Œ i <= e2 å°±è¡Œäº†å‘€ï¼i çš„ä½ç½®ç¡®å®šäº†ï¼Œä¸´ç•Œå€¼æ— éæ˜¯ i = e1 æˆ– i = e2 çš„æƒ…å†µã€‚e1 å’Œ e2 åˆ†åˆ«æ˜¯è€èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªçš„ç´¢å¼•å€¼ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("patchKeyedChildren")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" c2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" len2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä»æ–°çš„èŠ‚ç‚¹å¼€å§‹")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" e1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è€çš„æœ€åä¸€ä¸ª ç´¢å¼•å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" e2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" len2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ–°çš„æœ€åä¸€ä¸ª ç´¢å¼•å€¼")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å·¦åºéå†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n      i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å³åºéå†")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("while")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<=")]),t._v(" e2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" n1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("e1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" n2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" c2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("e2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSomeVNodeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ... åœ¨å¾ªç¯çš„æ¯”è¾ƒæ­¤èŠ‚ç‚¹å†…çš„èŠ‚ç‚¹")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// patch")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("break")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      e1"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      e2"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç²—ç•¥çš„æ¯”è¾ƒï¼Œå®é™…å¯¹æ¯”è¦æ›´å¤æ‚")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("isSomeVNodeType")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" n2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹æ¯”èŠ‚ç‚¹æ˜¯å¦ç›¸ç­‰ å¯ä»¥é€šè¿‡ type å’Œ key")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" n1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" n2"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("key\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br")])]),a("p",[t._v("ç»†çœ‹ä»£ç ï¼Œå³åºéå†å…¶å®å°±æ˜¯æ‹¿åˆ°è€èŠ‚ç‚¹å’Œæ–°èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå€¼å¯¹æ¯”ï¼Œç›¸ç­‰çš„è¯ï¼Œe1--ã€e2-- å¾€å‰ç§»åŠ¨ï¼Œä¸ç›¸ç­‰å°±åœæ­¢ç§»åŠ¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"ä¸­é—´ä¹±åºéƒ¨åˆ†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸­é—´ä¹±åºéƒ¨åˆ†"}},[t._v("#")]),t._v(" ä¸­é—´ä¹±åºéƒ¨åˆ†")]),t._v(" "),a("p",[t._v("ç»è¿‡å·¦åºéå†å’Œå³åºéå†ï¼Œæˆ‘ä»¬å¾—å‡ºäº†ä»¥ä¸‹çš„ç»“æœï¼Œåœˆå‡ºæ¥çš„å°±æ˜¯ä¹±åºçš„éƒ¨åˆ†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/de97c29726fb4b3aa651b2b140d8db59~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("å› ä¸ºæ­¤éƒ¨åˆ†ç¯‡å¹…è¾ƒé•¿ï¼Œæ¶‰åŠåˆ°æœ€é•¿é€’å¢å­åºåˆ—ç®—æ³•ï¼Œå’±ä»¬å¯ä»¥ç§»æ­¥ => "),a("a",{attrs:{href:"https://juejin.cn/post/7054055241704013831",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä¼ é€é—¨"),a("OutboundLink")],1),t._v(" ä¸€èµ·è®¨è®ºã€‚")]),t._v(" "),a("h2",{attrs:{id:"å†™åœ¨æœ€å"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å†™åœ¨æœ€å"}},[t._v("#")]),t._v(" å†™åœ¨æœ€å")]),t._v(" "),a("p",[t._v("æœ€åï¼Œä¸€å›¾å¸®ä½ å†çœ‹ä¸€ä¸‹å·¦åºéå†å’Œå³åºéå†ã€‚")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f15abebeed714ffc958adee485047941~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),t._v(" "),a("p",[t._v("å¦å¤–ï¼Œå¦‚æœä½ æƒ³å­¦ä¹  Vue3 æºç ï¼Œæ¨èå…ˆå…¥æ‰‹ "),a("a",{attrs:{href:"https://github.com/cuixiaorui/mini-vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("mini-vue"),a("OutboundLink")],1),t._v("ï¼Œå¸¦ä½ å®ç° Vue3 æœ€ç®€æ¨¡å‹ã€‚")])])}),[],!1,null,null,null);s.default=e.exports}}]);